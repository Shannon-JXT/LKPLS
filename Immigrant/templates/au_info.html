{% extends 'culture_info.html' %}
{% load staticfiles %}

{% block title %}
    Australia
{% endblock %}

{% block image1 %}
    {% static 'images/cultures/au-1.jpg' %}
{% endblock %}

{% block information %}
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

    <div class="tab-wrap">
        <ul class="select-navbar nav nav-tabs nav-stacked" style="margin-top: 0;">
            <li class="select-navbar-item">
                <a href="#tab1" data-toggle="tab">General Information</a>
            </li>
            <li class="select-navbar-item">
                <a href="#tab2" data-toggle="tab">Immigration Trend</a>
            </li>
        </ul>
    </div>

    <!-- culture body -->
    <div class="tab-content" style="background-color: white; margin-top: 0; padding: 10px;">
        <div class="tab-pane fade" id="tab1">
            <p>Australia is the largest country in Oceania, comprising the mainland Australia continent, Tasmania Island, and numerous small islands. Australia is considered as country with rich of diversity. Based on census 2016, Australians have various ancestry backgrounds, 36% of survey participants identified themselves as British descents, 33% as Australians, 11% as Irish, 9.3% as Scottish, 5.6% as Chinese, and many other ethnicities. Departing from this fact, we can understand that Australia is a multicultural country.</p>
            <p><a href="https://www.abc.net.au/news/2017-04-28/these-are-our-core-australian-values/8476902">ABC news</a> reports that Australian have unique characteristics that make them valuable. Here some interesting points from the list:</p>
            <ol type="1">
                <li>Australians love taking nature strips as gifts. When they think they have something which are not used anymore, they just chuck it on the grass in front of their houses. If someone who happens to be passing by and finds it interesting, those dumped things are free to grab. However, the government might not like it.</li>
                <li>Australians take the front seat. Considering themselves as egalitarians, every time they pick a taxi, it is highly likely they will sit next to the driver. You might find it unusual in your country or in the US movies.</li>
                <li>Being an Australian	and sports are two unseparated things. The obsession of sports, especially for Australian Football, is well-known. It is like a religion celebration.</li>
                <li>Australians have their own reasons to take days-off. It is like taking days-off is a right that has been wired to their bone for any literally reason. They take days-off not only for religious or public holidays, but also feeling a bit sick, having a weekday before/after weekend and there is a religious/public holiday on the other side of it, the fake birthday of a Queen, missing the train, needing a haircut, or a football game being on tomorrow.</li>
                <li>Australians are Larrikins. There are many definitions of Larrikins of Australia in the internet. There is no standard or convention about the definition, but Australians definitely are.</li>
            </ol>
            <p>Meanwhile. regarding to <a href="https://www.hofstede-insights.com/country-comparison/australia/">Hofstede</a>, Australia has characteristic dimension scores as per below:</p>
            <ol type="1">
                <li><b>Power distance: 36. </b>Power distance is defined as the extent of less powerful member of an organization in particular country expect and accept that the power is distributed unequally. Australia has low score at this dimension which means within a team or organization, Australians expect to have fair share of information, be consulted in decision making, and at the same time communication is conducted in informal ways, direct and participative.</li>
                <li><b>Individualism: 90. </b>Individualism here describes how a society treats the degree of interdependence among its member. It has to do with the attitude of a member to define the self-image as “I” or “We”. Unlike a collectivist society, Australia has high score in this dimension. Individualists look after themselves and immediate family. In the business world, promotion is given to those who successfully prove their significant achievements. The employees must self-reliance and have initiative.</li>
                <li><b>Masculinity: 61.  </b>Australia is somewhat masculine. The masculinity here has nothing to do with gender issues. It indicates that the society is driven by competition, achievement, and success. Success itself is defined by those who standing out from the crowd. Australia has shared value that people should strive to be the best. Conflicts are resolved in the individual level and winning becomes the goal.</li>
                <li><b>Uncertainty Avoidance: 51. </b>This dimension portrays the attitude of a society in dealing with threat of unknown or ambiguous situation in the future.  High score, like Japan, means the society are discipline in doing procedures and codes of conduct to minimize risks and unwanted occurrences in the future. Changes may be hard to realize in the society. Low score means the society does not treat risks as dangerous threats. Australia is somewhere in between.</li>
                <li><b>Long Term Orientation: 21. </b>Long term orientation is a dimension to describe how a society maintains links with its past while dealing with a situation in the present or future. Australia has low index in this dimension, which means Australia is a normative society where its people respect their tradition, do not have much propensity to save their future, and focusing on quick results.</li>
                <li><b>Indulgence: 71. </b>Australia is quite indulgent. Unlike restraint culture, Australians value their leisure time, love having fun, act as they please, and spend money as they wish.</li>
            </ol>
            <p>Hopefully, this information can help you to understand the Australian culture and make the adaptation process faster so you can work with Australians as a team in your work place.</p>
        </div>

        <div class="tab-pane fade" id="tab2">
            <script>
                // set the dimensions and margins of the graph
                var margin = {top: 50, right: 10, bottom: 30, left: 45},
                    width = 600 - margin.left - margin.right,
                    height = 500 - margin.top - margin.bottom;

                // append the svg object to the body of the page
                var svg = d3.select("#my_dataviz")
                    .append("svg")
                    .attr("width", width + 100) //margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform",
                          "translate(" + margin.left + "," + margin.top + ")");

                var data_temp = {{ au_trends|safe }};
                var data = new Array();
                for (var i in data_temp) {
                    data.push(data_temp[i]);
                }
                console.log(data);

                // Title
                svg.append("text")
                    .attr("x", (width/2))
                    .attr("y", 0 - (margin.top/2))
                    .attr("text-anchor", "middle")
                    .style("font-size", "16px")
                    .text("Migration Trends of Victoria")

                // Add X axis --> it is a date format
                var x = d3.scaleLinear()
                    .domain(d3.extent(data, function(d) { return d.time; }))
                    .range([ 0, width ]);
                svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(d3.axisBottom(x));

                svg.append("text")
                    .attr("transform", "translate(" + width/2 + "," + (height + margin.bottom) + ")")
                    .style("text-anchor", "middle")
                    .text("Census Year");

                // Add Y axis
                var y = d3.scaleLinear()
                    .domain( [d3.min(data, function(d) { return d.india; }), d3.max(data, function(d) { return d.en; })])
                    .range([ height, 0 ]);
                svg.append("g")
                    .call(d3.axisLeft(y))
                    .append("text")
                    .attr("fill", "#000")
                    .attr("transform", "rotate(-90)")
                    .attr("y", 6)
                    .attr("dy", "0.9em")
                    .style("text-anchor", "end")
                    .text("Number of Migrations");

                //tooltip
                var Tooltip = d3.select("#my_dataviz")
                    .append("div")
                    .style("opacity", 0)
                    .attr("class", "tooltip")
                    .style("background-color", "white")
                    .style("border", "solid")
                    .style("border-width", "2px")
                    .style("border-radius", "5px")
                    .style("padding", "5px")
                    .style("position", "absolute")

                //mouse
                var mouseover = function(d) {
                    Tooltip.style("opacity", 1)
                }
                var mousemove = function(d) {
                    Tooltip.html(d.time + " : " + d.value)
                        .style("top", (event.pageY)+"px")
                        .style("left",(event.pageX)+"px")
                }
                var mouseleave = function(d) {
                    Tooltip.style("opacity", 0)
                }

                // Initialize line with group a
                var line = svg
                    .append('g')
                    .append("path")
                    .datum(data)
                    .attr("d", d3.line()
                        //.x(function(d) { return x(+d.time) })
                        //.y(function(d) { return y(+d.en) })
                    )
                    .attr("stroke", "black")
                    .style("stroke-width", 4)
                    .style("fill", "none")

                // Initialize dots with group a
                var dot = svg
                    .selectAll('circle')
                    .data(data)
                    .enter()
                    .append('circle')
                    //.attr("cx", function(d) { return x(+d.time) })
                    //.attr("cy", function(d) { return y(+d.en) })
                    .attr("r", 7)
                    .style("fill", "#69b3a2")
                    .on("mouseover", mouseover)
                    .on("mousemove", mousemove)
                    .on("mouseleave", mouseleave)


                // A function that update the chart
                function update(selectedGroup) {
                    // Create new data with the selection?
                    var dataFilter = data.map(function(d){
                        if (selectedGroup !== "no") {
                            return {time: d.time, value:d[selectedGroup]}
                        }})

                    // Give these new data to update line
                    line.datum(dataFilter)
                        .transition()
                        .duration(1000)
                        .attr("d", d3.line()
                            .x(function(d) { return x(+d.time) })
                            .y(function(d) { return y(+d.value) })
                      )

                    dot.data(dataFilter)
                        .transition()
                        .duration(1000)
                        .attr("cx", function(d) { return x(+d.time) })
                        .attr("cy", function(d) { return y(+d.value) })
                }

                // When the button is changed, run the updateChart function
                d3.select("#selectButton").on("change", function(d) {
                    // recover the option that has been chosen
                    var selectedOption = d3.select(this).property("value")
                    // run the updateChart function with this selected option
                    update(selectedOption)
                    var vis = document.querySelector('.vis'),
                        target = document.getElementById(this.value);
                    if (vis !== null) {
                        vis.className = 'inv';
                    }
                    if (target !== null) {
                        target.className = 'vis';
                    }
                })
            </script>

        </div>
    </div>

{% endblock %}

{% block au-status %}
    active
{% endblock %}